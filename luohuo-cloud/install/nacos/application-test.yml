# =================================================================
# 测试环境配置 - PII加密测试
# =================================================================
# Data ID: application-test.yml
# Group: DEFAULT_GROUP
# 用途: 本地开发和测试环境
# =================================================================

spring:
  profiles:
    active: test

# ===== PII字段加密配置（测试环境）=====
pii:
  encryption:
    # 测试环境密钥（可以使用固定密钥）
    # ⚠️ 注意: 此密钥仅用于测试，生产环境必须更换！
    key: ${PII_ENCRYPTION_KEY:}

    # 启用加密（即使在测试环境也启用，确保功能正常）
    enabled: true

    # 测试模式（可选）
    test-mode: true

# =================================================================
# 测试数据库配置
# =================================================================
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/luohuo_test?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai
    username: root
    password: ${SPRING_DATASOURCE_PASSWORD:}
    driver-class-name: com.mysql.cj.jdbc.Driver

# =================================================================
# 日志配置（测试环境详细日志）
# =================================================================
logging:
  level:
    root: INFO
    com.luohuo.flex.crypto: DEBUG
    com.luohuo.flex.base.crypto: DEBUG
  pattern:
    console: "%d{yyyy-MM-DD HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

# =================================================================
# 测试说明
# =================================================================
# 使用此配置运行测试:
# mvn test -Dspring.profiles.active=test
# 或在IDE中设置 VM options: -Dspring.profiles.active=test
# =================================================================
