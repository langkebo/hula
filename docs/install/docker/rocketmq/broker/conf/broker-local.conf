# HuLa-Server RocketMQ Broker 本地开发配置

brokerClusterName=DefaultCluster
brokerName=broker-a
brokerId=0
namesrvAddr=rocketmq-namesrv:9876

# 重要: 设置为本机IP
brokerIP1=10.168.1.144

# Topic配置
defaultTopicQueueNums=4
autoCreateTopicEnable=true
enableAutoCreateSystemTopic=true
enableAutoCreateSubscriptionGroup=true
autoCreateSubscriptionGroup=true

# 端口配置
listenPort=10911

# 安全配置 (本地开发关闭ACL)
aclEnable=false

# 存储配置
deleteWhen=04
fileReservedTime=48
mappedFileSizeCommitLog=1073741824
mappedFileSizeConsumeQueue=300000
diskMaxUsedSpaceRatio=88

# 存储路径
storePathRootDir=/home/rocketmq/store
storePathCommitLog=/home/rocketmq/store/commitlog
storePathConsumeQueue=/home/rocketmq/store/consumequeue
storePathIndex=/home/rocketmq/store/index
storeCheckpoint=/home/rocketmq/store/checkpoint
abortFile=/home/rocketmq/store/abort

# 消息配置
maxMessageSize=65536

# 延迟消息配置
timerWheelEnable=true
enableScheduleMessage=true
messageDelayLevel=1s 3s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h
timerStorePath=/home/rocketmq/timerwheel
timerFlushIntervalMs=1000
timerPrecisionMs=1000
scheduleMessageServiceThreadPoolNums=4

# 复制模式
brokerRole=ASYNC_MASTER
flushDiskType=ASYNC_FLUSH

# 内存配置 (本地开发降低)
maxDirectMemorySize=512m
